<form [formGroup]="form">
  <div class="form-group">
    <label>Select Employee:</label>
    <select class="form-control" formControlName="employeeId">
      <option value="" disabled selected>Select Employee</option>
      <option *ngFor="let emp of allEmployees" [value]="emp.empId">
        {{ emp.firstName }} {{ emp.lastName }} ({{ emp.employeeCode }})
      </option>
    </select>
  </div>

  <div class="form-group mt-2">
    <label>Month:</label>
    <input type="text" class="form-control" formControlName="month" placeholder="e.g., Jul" />
  </div>

  <div class="form-group mt-2">
    <label>Year:</label>
    <input type="text" class="form-control" formControlName="year" />
  </div>

  <div class="mt-3">
    <button (click)="generate()" type="button" class="btn btn-primary">Generate Payroll</button>
    <button (click)="viewPayroll()" type="button" class="btn btn-secondary mx-2">View Payroll</button>
    <button (click)="downloadPayslip()" type="button" class="btn btn-success">Download Payslip</button>
  </div>
</form>

<div class="mt-3 text-danger" *ngIf="errorMessage">
  {{ errorMessage }}
</div>

<div *ngIf="payroll" class="mt-4">
  <h4>Payroll Details:</h4>
  <ul>
    <li><strong>Employee ID:</strong> {{ payroll.employee?.empId }}</li>
    <li><strong>Month:</strong> {{ payroll.month }}</li>
    <li><strong>Year:</strong> {{ payroll.year }}</li>
    <li><strong>Net Salary:</strong> ₹{{ payroll.netSalary }}</li>
    <li><strong>Total Earnings:</strong> ₹{{ payroll.totalEarnings }}</li>
    <li><strong>Total Deductions:</strong> ₹{{ payroll.totalDeductions }}</li>
    <li><strong>Payment Status:</strong> {{ payroll.paymentStatus }}</li>
    <li><strong>Present Days:</strong> {{ payroll.presentDays }}</li>
    <li><strong>Paid Leave Days:</strong> {{ payroll.paidLeaveDays }}</li>
    <li><strong>Working Days:</strong> {{ payroll.workingDays }}</li>
    <li><strong>Payable Days:</strong> {{ payroll.payableDays }}</li>
  </ul>
</div>
